import React from "react";
import PersonUnit from "../Person-unit/PersonUnit";

// const FullCast = () => {
const FullCast = ({ fullTeam }) => {
  // const fullTeam = {
  //   id: 539885,
  //   cast: [
  //     {
  //       cast_id: 0,
  //       character: "Ava",
  //       credit_id: "5b62972fc3a36818880284ad",
  //       gender: 1,
  //       id: 83002,
  //       name: "Jessica Chastain",
  //       order: 0,
  //       profile_path: "/lodMzLKSdrPcBry6TdoDsMN3Vge.jpg",
  //     },
  //     {
  //       cast_id: 15,
  //       character: "Duke",
  //       credit_id: "5bbd35149251413797022955",
  //       gender: 2,
  //       id: 6949,
  //       name: "John Malkovich",
  //       order: 1,
  //       profile_path: "/5coH0AExljEnbseCXKL4CDOVQj8.jpg",
  //     },
  //     {
  //       cast_id: 11,
  //       character: "Simon",
  //       credit_id: "5b9efc380e0a26637c010009",
  //       gender: 2,
  //       id: 72466,
  //       name: "Colin Farrell",
  //       order: 2,
  //       profile_path: "/8Qw0Pth12EAZDYPt6gbfpw1v734.jpg",
  //     },
  //     {
  //       cast_id: 12,
  //       character: "Michael",
  //       credit_id: "5b9efc48925141231100e5b2",
  //       gender: 2,
  //       id: 4238,
  //       name: "Common",
  //       order: 3,
  //       profile_path: "/2h2SjbsAQ1lsZXSDVNd5qn6ALVe.jpg",
  //     },
  //     {
  //       cast_id: 20,
  //       character: "Bobbi",
  //       credit_id: "5bca2a949251415627015c1b",
  //       gender: 1,
  //       id: 16935,
  //       name: "Geena Davis",
  //       order: 4,
  //       profile_path: "/bx9ufx5cS7FfHDFFeT71syBh428.jpg",
  //     },
  //     {
  //       cast_id: 28,
  //       character: "Peter",
  //       credit_id: "5eeafc8e6dea3a0034bc41b8",
  //       gender: 2,
  //       id: 65524,
  //       name: "Ioan Gruffudd",
  //       order: 5,
  //       profile_path: "/bUfnbySl6afH1Upkeq0v2Kp8Ymx.jpg",
  //     },
  //     {
  //       cast_id: 21,
  //       character: "Toni",
  //       credit_id: "5bca2ab5c3a368408e01803c",
  //       gender: 1,
  //       id: 6720,
  //       name: "Joan Chen",
  //       order: 6,
  //       profile_path: "/7uMTJpY8B2hufXqmlxJpaUPpcJi.jpg",
  //     },
  //     {
  //       cast_id: 18,
  //       character: "Judy",
  //       credit_id: "5bc27452c3a3682d4b03d4c7",
  //       gender: 1,
  //       id: 76999,
  //       name: "Jess Weixler",
  //       order: 7,
  //       profile_path: "/2X0PjIXMLPjm7opUGEq8X5lvqjV.jpg",
  //     },
  //     {
  //       cast_id: 19,
  //       character: "Camille",
  //       credit_id: "5bc7d6ac0e0a26363500b51e",
  //       gender: 1,
  //       id: 2048372,
  //       name: "Diana Silvers",
  //       order: 8,
  //       profile_path: "/4az1G7gw4uwdX4u6AyRVbOY019R.jpg",
  //     },
  //     {
  //       cast_id: 16,
  //       character: "Gunther",
  //       credit_id: "5bbd35220e0a26661e024e1a",
  //       gender: 2,
  //       id: 118643,
  //       name: "Falk Hentschel",
  //       order: 9,
  //       profile_path: "/x8nwYUkzyJ3fhDs0ZfHqUS9jWqw.jpg",
  //     },
  //     {
  //       cast_id: 34,
  //       character: "German Embassy Guest",
  //       credit_id: "5f1e7ea10bb0760034fc2fa2",
  //       gender: 0,
  //       id: 1674443,
  //       name: "Lin Hultgren",
  //       order: 10,
  //       profile_path: "/7oJU6OFFLlqeCwyFsrQgeNtMyF3.jpg",
  //     },
  //     {
  //       cast_id: 35,
  //       character: "Taylor Norris",
  //       credit_id: "5f1e7eba07a808003582ef0e",
  //       gender: 0,
  //       id: 1354398,
  //       name: "Michael Guarnera",
  //       order: 11,
  //       profile_path: "/qXfudTXfZxobXzuVDMCJoXFIgwl.jpg",
  //     },
  //     {
  //       cast_id: 36,
  //       character: "Alejandro",
  //       credit_id: "5f1e7eda0bb0760035f95f9a",
  //       gender: 0,
  //       id: 1371507,
  //       name: "Joe Sobalo Jr.",
  //       order: 12,
  //       profile_path: "/vfV0eLVoFZNCaTHmqBhopWBZs8m.jpg",
  //     },
  //     {
  //       cast_id: 37,
  //       character: "Alain",
  //       credit_id: "5f1e7f1a07a8080034839f43",
  //       gender: 2,
  //       id: 1272901,
  //       name: "Efka Kvaraciejus",
  //       order: 13,
  //       profile_path: "/xC12DoEHB9h3jJQ5YrJ1WSoLEWs.jpg",
  //     },
  //     {
  //       cast_id: 38,
  //       character: "Teddy",
  //       credit_id: "5f405a79c175b200356091be",
  //       gender: 2,
  //       id: 21659,
  //       name: "Michel Muller",
  //       order: 14,
  //       profile_path: "/cEx6kjnvMbHzyozAfvAQJ2BnGNp.jpg",
  //     },
  //   ],
  //   crew: [
  //     {
  //       credit_id: "5f42e2f10bb0760034d3f66f",
  //       department: "Editing",
  //       gender: 2,
  //       id: 4671,
  //       job: "Editor",
  //       name: "Zach Staenberg",
  //       profile_path: null,
  //     },
  //     {
  //       credit_id: "5f42e2df99d5c30035b6d9d0",
  //       department: "Camera",
  //       gender: 2,
  //       id: 5582,
  //       job: "Director of Photography",
  //       name: "Stephen Goldblatt",
  //       profile_path: null,
  //     },
  //     {
  //       credit_id: "5bbd3543c3a36858f2026d75",
  //       department: "Art",
  //       gender: 0,
  //       id: 89383,
  //       job: "Production Design",
  //       name: "Molly Hughes",
  //       profile_path: null,
  //     },
  //     {
  //       credit_id: "5f42e44881a7fc00340c09ab",
  //       department: "Sound",
  //       gender: 1,
  //       id: 17863,
  //       job: "Music Supervisor",
  //       name: "Linda Cohen",
  //       profile_path: null,
  //     },
  //     {
  //       credit_id: "5b85eb8692514149f9002cdb",
  //       department: "Directing",
  //       gender: 2,
  //       id: 55789,
  //       job: "Director",
  //       name: "Tate Taylor",
  //       profile_path: "/7xXp4TsBl6OB4v2kNqvKAG5uOnh.jpg",
  //     },
  //     {
  //       credit_id: "5f42e30341a5610031cc96ef",
  //       department: "Sound",
  //       gender: 2,
  //       id: 59811,
  //       job: "Original Music Composer",
  //       name: "Bear McCreary",
  //       profile_path: "/nTE1G81ZRSF1ZyUHaKI5lrSmN4H.jpg",
  //     },
  //     {
  //       credit_id: "5b62977a0e0a267ef6027a18",
  //       department: "Production",
  //       gender: 0,
  //       id: 72209,
  //       job: "Producer",
  //       name: "Kelly Carmichael",
  //       profile_path: null,
  //     },
  //     {
  //       credit_id: "5b62975092514140540260d7",
  //       department: "Writing",
  //       gender: 2,
  //       id: 26061,
  //       job: "Screenplay",
  //       name: "Matthew Newton",
  //       profile_path: "/pcQVfV1amj8lc6XBVZGUCzsNqQC.jpg",
  //     },
  //     {
  //       credit_id: "5b62973c0e0a267ef102878e",
  //       department: "Production",
  //       gender: 1,
  //       id: 83002,
  //       job: "Producer",
  //       name: "Jessica Chastain",
  //       profile_path: "/lodMzLKSdrPcBry6TdoDsMN3Vge.jpg",
  //     },
  //     {
  //       credit_id: "5eeafe48db4ed60035cb2317",
  //       department: "Production",
  //       gender: 2,
  //       id: 536491,
  //       job: "Executive Producer",
  //       name: "John Norris",
  //       profile_path: "/xpAQO5QbBzUSnLXvQ39mBqkoOYR.jpg",
  //     },
  //     {
  //       credit_id: "5b629760c3a368189402fb8d",
  //       department: "Production",
  //       gender: 2,
  //       id: 1031200,
  //       job: "Producer",
  //       name: "Nicolas Chartier",
  //       profile_path: "/59ptYCph60CtAtLmWuC9dASHhsp.jpg",
  //     },
  //     {
  //       credit_id: "5b6297990e0a267ee50264b3",
  //       department: "Production",
  //       gender: 0,
  //       id: 1084929,
  //       job: "Executive Producer",
  //       name: "Jonathan Deckter",
  //       profile_path: null,
  //     },
  //     {
  //       credit_id: "5eeafe27b0460500330805ee",
  //       department: "Production",
  //       gender: 1,
  //       id: 1099832,
  //       job: "Executive Producer",
  //       name: "Erika Hampson",
  //       profile_path: "/fQ3iH69mqhwkRddk9Vl8YvtbGyA.jpg",
  //     },
  //     {
  //       credit_id: "5f42e35081a7fc00330cd5c8",
  //       department: "Production",
  //       gender: 1,
  //       id: 1190100,
  //       job: "Casting Director",
  //       name: "Lindsey Weissmueller",
  //       profile_path: "/wA7ck8vuYFMcIGNWCYz7R9pSXpD.jpg",
  //     },
  //     {
  //       credit_id: "5bdb25670e0a2603bb010d0f",
  //       department: "Camera",
  //       gender: 2,
  //       id: 1418398,
  //       job: '"A" Camera Operator',
  //       name: "Will Arnot",
  //       profile_path: null,
  //     },
  //     {
  //       credit_id: "5b62976ec3a3681897026c21",
  //       department: "Production",
  //       gender: 0,
  //       id: 1431796,
  //       job: "Producer",
  //       name: "Dominic Rustam",
  //       profile_path: null,
  //     },
  //     {
  //       credit_id: "5b6297a79251414056022fe2",
  //       department: "Production",
  //       gender: 0,
  //       id: 1511810,
  //       job: "Co-Producer",
  //       name: "Babacar Diene",
  //       profile_path: null,
  //     },
  //     {
  //       credit_id: "5f42e27381a7fc00330cd05b",
  //       department: "Costume & Make-Up",
  //       gender: 0,
  //       id: 1537425,
  //       job: "Costume Design",
  //       name: "Megan Coates",
  //       profile_path: null,
  //     },
  //     {
  //       credit_id: "5b9efc70c3a36833a9010be0",
  //       department: "Sound",
  //       gender: 0,
  //       id: 1763796,
  //       job: "Sound Mixer",
  //       name: "Jason Fyrberg",
  //       profile_path: null,
  //     },
  //     {
  //       credit_id: "5f42e32281a7fc00330cd51e",
  //       department: "Production",
  //       gender: 0,
  //       id: 1795686,
  //       job: "Casting Director",
  //       name: "Neely Eisenstein",
  //       profile_path: null,
  //     },
  //     {
  //       credit_id: "5bdb25940e0a2603ca010f23",
  //       department: "Camera",
  //       gender: 1,
  //       id: 1796736,
  //       job: "Still Photographer",
  //       name: "Emily Aragones",
  //       profile_path: null,
  //     },
  //     {
  //       credit_id: "5bdb25820e0a2603c600ff1f",
  //       department: "Lighting",
  //       gender: 0,
  //       id: 2038661,
  //       job: "Rigging Gaffer",
  //       name: "Michael Dynice",
  //       profile_path: null,
  //     },
  //     {
  //       credit_id: "5bdb2575c3a368078501071a",
  //       department: "Camera",
  //       gender: 0,
  //       id: 2101124,
  //       job: "Dolly Grip",
  //       name: "John R. Kaplan",
  //       profile_path: null,
  //     },
  //     {
  //       credit_id: "5b9efc7ec3a36833a5010323",
  //       department: "Directing",
  //       gender: 0,
  //       id: 2129513,
  //       job: "Second Second Assistant Director",
  //       name: "Stephen Turro",
  //       profile_path: null,
  //     },
  //     {
  //       credit_id: "5bdb25520e0a2603c600fef5",
  //       department: "Directing",
  //       gender: 0,
  //       id: 2154182,
  //       job: "First Assistant Director",
  //       name: "Brett Robinson",
  //       profile_path: null,
  //     },
  //     {
  //       credit_id: "5eeafd8a81da3900364e18a2",
  //       department: "Production",
  //       gender: 0,
  //       id: 2305396,
  //       job: "Co-Producer",
  //       name: "Narine Garibyan",
  //       profile_path: null,
  //     },
  //     {
  //       credit_id: "5eeafdf3dd926a0033a15fec",
  //       department: "Production",
  //       gender: 0,
  //       id: 2438223,
  //       job: "Executive Producer",
  //       name: "William Earon",
  //       profile_path: null,
  //     },
  //   ],
  // };

  const uniqueDeps = new Set(fullTeam.crew.map((person) => person.department));
  const uniqueDepsArray = [...uniqueDeps];

  let combined = [];
  for (let i = 0; i < uniqueDepsArray.length; i++) {
    let single = fullTeam.crew.filter(
      (person) => person.department === uniqueDepsArray[i]
    );
    combined.push(single);
  }
  console.log(combined);

  let people = uniqueDepsArray.map((department, index) => {
    return (
      <section className="mb-3" key={department}>
        <h3 className="mb-2 font-bold text-sm sm:text-base">{department}</h3>
        {combined[index].map((person) => (
          <PersonUnit
            key={person.id}
            id={person.id}
            name={person.name}
            character={person.job}
            profile_path={person.profile_path}
            gender={person.gender}
          />
        ))}
      </section>
    );
  });

  return (
    <div className="mt-8 sm:mt-10 sm:grid grid-cols-2">
      <section>
        <h2 className="font-bold text-base sm:text-lg">Cast</h2>
        <div className="mt-4 flex flex-col">
          {fullTeam.cast.map((person) => (
            //TODO: Add check if the photo is not available to replace it with a placeholder image based on gender
            <PersonUnit
              key={person.id}
              id={person.id}
              name={person.name}
              character={person.character}
              profile_path={person.profile_path}
              gender={person.gender}
            />
          ))}
        </div>
      </section>

      <section>
        <h2 className="font-bold text-base sm:text-lg">Crew</h2>

        <section>
          <div className="mt-4 flex flex-col">{people}</div>
        </section>
      </section>
    </div>
  );
};

export default FullCast;
